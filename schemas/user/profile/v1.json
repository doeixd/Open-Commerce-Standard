{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "description": "Schema for user profile capability (dev.ocs.user.profile@1.0), providing user-specific data like saved addresses and preferences.",
  "definitions": {
    "Location": {
      "type": "object",
      "description": "A physical address location.",
      "properties": {
        "streetAddress": {
          "type": "string",
          "description": "The street address."
        },
        "addressLocality": {
          "type": "string",
          "description": "The locality (e.g., city)."
        },
        "addressRegion": {
          "type": "string",
          "description": "The region (e.g., state or province)."
        },
        "postalCode": {
          "type": "string",
          "description": "The postal code."
        },
        "addressCountry": {
          "type": "string",
          "description": "The country."
        }
      },
      "required": ["streetAddress", "addressLocality", "addressRegion", "postalCode"]
    }
  },
  "properties": {
    "savedAddresses": {
      "type": "array",
      "description": "List of saved delivery/billing addresses.",
      "items": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "description": "User-defined label for the address (e.g., 'Home', 'Work')."
          },
          "address": {
            "$ref": "#/definitions/Location",
            "description": "The address details."
          }
        },
        "required": ["address"]
      }
    },
    "defaultBillingAddress": {
      "$ref": "#/definitions/Location",
      "description": "The user's default billing address."
    },
    "preferences": {
      "type": "object",
      "description": "User preferences for shopping experience.",
      "properties": {
        "language": {
          "type": "string",
          "description": "Preferred language code (e.g., 'en-US'), aligns with dev.ocs.i18n@1.0."
        },
        "notifications": {
          "type": "boolean",
          "description": "Whether to receive order notifications."
        },
        "currency": {
          "type": "string",
          "description": "Preferred currency code (e.g., 'USD')."
        }
      }
    },
    "consentGiven": {
      "type": "boolean",
      "description": "Indicates if the user has given consent for data collection/storage, aligning with privacy regulations."
    }
  }
}